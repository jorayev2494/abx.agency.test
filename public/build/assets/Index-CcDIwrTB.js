import{n as w,r as U,b as V,d as s,e as o,j as g,w as C,f as t,F as c,i as D,k as y,t as p,u as l,p as B,v as E,l as N}from"./app-nCt8bXOo.js";import{p as _}from"./propertyValues-djaM6W9j.js";import{u as k}from"./useUploadFile-CccU5wrL.js";const S=t("h3",{class:"my-4"},"User create",-1),T={class:"row mt-5"},j={class:"col-sm-5"},q={class:"col-sm-7"},A={class:"form-group row mb-2 mt-2"},I={class:"col-md-6"},L=["onUpdate:modelValue","placeholder"],M={key:1},P={key:2},J={__name:"Index",setup(R){const f=N(),h=w(),{uploadedFile:d,uploadFile:u}=k(),n=U({first_name:"",last_name:"",email:"",phone:"",avatar:"",position_id:""}),m=["first_name","last_name","email","phone","position_id"],v=()=>{const r=new FormData;return m.forEach(a=>{r.append(a,n[a])}),d.value!==null&&r.append("avatar",d.value),r},b=()=>{f.dispatch("user/createUserAsync",{data:v()}).then(()=>{h.push({name:"user-index"})})};return(r,a)=>{const x=V("router-link");return s(),o(c,null,[S,g(x,{to:{name:"user-index"}},{default:C(()=>[y("Users")]),_:1}),t("dl",T,[(s(!0),o(c,null,D(n,(F,e)=>(s(),o(c,{key:e},[t("dt",j,p(l(_)[e].label??e),1),t("dd",q,[t("div",A,[t("div",I,[m.includes(e)?B((s(),o("input",{key:0,type:"text","onUpdate:modelValue":i=>n[e]=i,name:"email",class:"form-control",placeholder:l(_)[e].label,required:"",autofocus:""},null,8,L)),[[E,n[e]]]):e==="avatar"?(s(),o("dd",M,[t("input",{class:"form-control",type:"file",id:"formFile",onChange:a[0]||(a[0]=(...i)=>l(u)&&l(u)(...i))},null,32)])):(s(),o("span",P,p(F),1))])])])],64))),128))]),t("button",{type:"submit",class:"btn btn-primary btn-sm",onClick:b}," Create ")],64)}}};export{J as default};
